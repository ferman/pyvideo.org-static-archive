





<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="../../static/bootstrap-3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../static/css/richard.css">
  <link rel="stylesheet" href="../../static/browserid/persona-buttons.css" />
  <link rel="search" type="application/opensearchdescription+xml" title="pyvideo.org search" href="../../search/xml">
  <title>pyvideo.org - Mobile Games to the Cloud With Python</title>
  <link rel="shortcut icon" type="image/x-icon" href="http://pyvideo.org/favicon.ico">

  
    <meta name="keywords" content="">
  
    <meta name="description" content="When a mobile game development company decides to switch to a more cloud based development it is faced with obstacles different from those it&#39;s used to on mobile devices. This talk explains how Python provided us with most of the infrastructure for this task and how a Python game backend was built as a result.">
  

  
</head>
<body>
  <input type='hidden' name='csrfmiddlewaretoken' value='DEhrCXO8g33mPB1YNZ7JRQq9NQMV9Bvc' />
  
<div id="browserid-info"
     style="display: none;"
     data-info="{&quot;loginUrl&quot;: &quot;/browserid/login/&quot;, &quot;requestArgs&quot;: {}, &quot;logoutUrl&quot;: &quot;/browserid/logout/&quot;, &quot;csrfUrl&quot;: &quot;/browserid/csrf/&quot;}">
</div>

  <a name="top"></a>
  <nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="../../index.html">pyvideo.org</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a href="mobile-games-to-the-cloud-with-python.html#" class="dropdown-toggle" data-toggle="dropdown">
              Browse <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><a href="../../category.html">Conferences/user groups</a></li>
              <li><a href="../../speaker/index.html">Speakers</a></li>
            </ul>
          </li>
        </ul>
        <form class="navbar-form navbar-left" role="search" action="../../search.1.html">
          <div class="form-group">
            <input type="hidden" name="models" value="videos.video">
            <input type="text" class="form-control" name="q" placeholder="Search" autofocus value="">
          </div>
        </form>
        

        <ul class="nav navbar-nav navbar-right">
          
            <li><div class="signin">

<a href="mobile-games-to-the-cloud-with-python.html#" data-next="/" class="browserid-login persona-button" >
	<span>Sign in</span>
</a>
</div></li>
          
        </ul>
      </div>
    </div>
  </nav>

  <div id="content" class="container">
    
      <div class="row">
        <div class="col-md-12">
          
            <div class="alert alert-info">
              <i class="icon-info-sign"></i> <strong>Sorry!</strong>
              <p>pyvideo is closing down at some point in 2016. <a href="http://bluesock.org/~willkg/blog/pyvideo/status_20160115.html">More details</a></p>
            </div>
          
        </div>
      </div>
    

    


<div class="row section" vocab="http://schema.org" typeof="VideoObject">
  <div id="videobox" class="col-md-12">
    
    <div class="clearfix">
      <div class="videobox-inner">
        
          
            <div class="amara-embed" data-height="480px" data-width="854px" data-url="http://www.youtube.com/watch?v=wWypp2KexGs"></div>
          
        
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div id="videobox" class="col-md-8">
    <div class="section">
      <h3 class="centered" property="name">Mobile Games to the Cloud With Python</h3>
      <link property="thumbnailUrl" href="http://i.ytimg.com/vi/wWypp2KexGs/hqdefault.jpg"/>
      <link property="sameAs" href="mobile-games-to-the-cloud-with-python.html"/>
    </div>

    

    
      <div class="section">
        <h4>Summary</h4>
        <div class="video-details-summary" property="description"><p>When a mobile game development company decides to switch to a more cloud based development it is faced with obstacles different from those it's used to on mobile devices. This talk explains how Python provided us with most of the infrastructure for this task and how a Python game backend was built as a result.</p></div>
        <meta property="caption" content="When a mobile game development company decides to switch to a more cloud based development it is faced with obstacles different from those it&#39;s used to on mobile devices. This talk explains how Python provided us with most of the infrastructure for this task and how a Python game backend was built as a result."/>
      </div>
    

    

    
      <div class="section">
        <h4>Description</h4>
        <div class="video-details-description"><h4>The Talk</h4>
<p>This talk has two goals. Showing the audience the lessons we learned during a project which moved a simple mobile game to a server backend is our first intention. In addition to that we want to describe how such a system works in a real life example, to show which problems and which requirements arise in its creation. When the audience leaves the talk they will know how a real-life mobile game uses Python for powering the backend servers.</p>
<h4>The Problem</h4>
<p>Most of the game development for mobile devices is focused on running the game on the device. The game designers and game developers play a primary role in creating the product. The server backend plays a supporting role providing a multiplayer or social experience to the users. Indeed, at Nanobit Ltd., things were also done that way. We had a small Python infrastructure built around Django which provided a small portion of multiplayer experience for the players. The majority of development was still focused on playing the game on the device. That way of thinking was put to test when we decided to center our future games around the multiplayer experience. Due to the fact that our infrastructure at the time was not enough for what we had in mind, we had to start from scratch. The decision was made to use Python as the center of our new infrastructure.</p>
<p>In order to achieve it, a server backend was needed that would allow the game to be played “in the cloud” with the device only being a terminal to the player. Most of the game logic would have to be processed in the cloud which meant that each player required a constant connection to the backend and with over 100.000 players in our previous games that presented a challenge. How to build an infrastructure which can support that? Since every user action had to be sent to the backend how to process thousands of them quick enough? Those problems were big and were just the start.</p>
<h4>The Solution</h4>
<p>The design of the backend lasted for a couple of months and produced a scalable infrastructure based on “workers” developed in Python, “web servers” that use Tornado and a custom message queue which connected the two. The storage part is a combination of Riak and Redis. Since the backend is scalable new workers and new web servers had to be deployed easily so an orchestration module was build using Fabric. The scalability and launching of new workers and web servers was achieved using Docker for creation and deployment of containers. Each container presents one module of the system (worker, web server, queue). The end result can now support all of our future games and only requires the game logic of each game to be added to the workers.</p>
<h4>The Technologies</h4>
<ul>
<li>Python for coding the game logic, web servers. More than 90% of the system was written in Python.</li>
<li>Fabric</li>
<li>SQLAlchemy</li>
<li>Riak</li>
<li>Redis</li>
<li>ZeroMQ</li>
<li>nginx</li>
<li>Docker</li>
<li>Websockets</li>
<li>AWS</li>
</ul>
<h4>The Lessons Learned</h4>
<ul>
<li>How to tune the backend to handle the increasing number of active players.</li>
<li>How to tackle the problem of frequent connection dropping and reachability issues of poor mobile device Internet connection in Tornado with a little help of Redis.</li>
<li>How to prevent users from trying to outsmart the system by denying illegal moves.</li>
<li>How to enable game profile syncing and live updating.</li>
<li>Improving the performance of workers by prioritizing data being stored to databases (Riak, SQL).</li>
<li>New issues and lessons show up all the time so there will definitely be more of them by the time of the conference.</li>
</ul>
<h4>Basic Outline</h4>
<ol>
<li>Intro (5 min)<ol>
<li>Who are we?</li>
<li>How was Python used in our previous games</li>
<li>Why we decided to change it all</li>
</ol>
</li>
<li>Requirements (6 min)<ol>
<li>What was the goal of creating the game backend</li>
<li>Why was Python our first choice</li>
</ol>
</li>
<li>Python backend (14 min)<ol>
<li>The architecture of the backend</li>
<li>Which technologies did we use and how were they connected together</li>
<li>How the backend handles the game logic</li>
<li>Lessons learned</li>
</ol>
</li>
<li>Questions &amp; Answers (5 min)</li>
</ol></div>
      </div>
    
  </div>

  <div class="col-md-4">
    <div id="sidebar" class="well">
      

      <dl>
        
        <dt>Category</dt>
        <dd>
          <a href="../../category/54/europython-2014.html">EuroPython 2014</a>
        </dd>

        <dt>Speakers</dt>
        <dd>
          
            <div><a href="../../speaker/1436/darko-ronic.html">Darko Ronić</a></div>
            <meta property="author" content="Darko Ronić"/>
          
            <div><a href="../../speaker/1435/mislav-stipetic.html">Mislav Stipetic</a></div>
            <meta property="author" content="Mislav Stipetic"/>
          
        </dd>

        
          <dt>Language</dt>
          <dd>English
            <meta property="inLanguage" content="en"/>
          </dd>
        

        

        
          <dt>Recorded</dt>
          <dd>July 22, 2014
            <meta property="dateCreated" content="2014-07-22"/>
          </dd>
        

        
          <dt>Last updated</dt>
          <dd>Aug. 2, 2014
            <meta property="dateModified" content="2014-08-02T11:26:25.174048"/>
            <meta property="datePublished" content="2014-08-02T11:26:25.174048"/>
          </dd>
        

        <dt>Video origin</dt>
        <dd>
          
            <a href="http://www.youtube.com/watch?v=wWypp2KexGs" property="embedUrl">http://www.youtube.com/watch?v=wWypp2KexGs</a>
          
        </dd>

        <dt>Download</dt>
        <dd>
          
            No downloadable files.
          
        </dd>

        
          <dt>Metadata</dt>
          <dd>
            <a href="../../api/v2/video/3041">JSON</a>
          </dd>
        

        <dt>Copyright/License Information</dt>
        <dd>
          
            http://creativecommons.org/licenses/by/3.0/
          
        </dd>

        <dt>Tags</dt>
        <dd>
          
            No tags
          
          <meta property="keywords" content="EuroPython 2014"/>
        </dd>
      </dl>
    </div>
  </div>
</div>


    
    <div id="footer">
      <a name="footer"></a>
      <div class="row">
        <div class="col-md-6">
          <p>pyvideo.org</p>
          <p>
            Run by Sheila Miguez and Will Kahn-Greene Questions,
            comments or concerns? Send an email to Will at willkg at
            bluesock dot org.</p>
          <p>
            Powered by <a href="https://github.com/pyvideo/richard">richard</a>.
          </p>
          <p>
            Hosting for the project is graciously provided by
            <a href="http://www.rackspace.com/cloud">Rackspace</a>.
          </p>
        </div>
        <div class="col-md-4">
          <ul class="unstyled">
            <li><a href="../../pages/about.html">About this site</a></li>
            <li><a href="../../stats/index.html">Site stats</a></li>
            <li><a href="http://github.com/pyvideo/pyvideo/issues/new">Report an issue</a></li>
            <li><a href="http://github.com/pyvideo/pyvideo/issues/new">Suggest a conference to add</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <a class="pull-right" href="mobile-games-to-the-cloud-with-python.html#top">Back to top</a>
        </div>
      </div>
    </div>
    

  </div>

  


  
  <script type="text/javascript" src="../../static/jquery-1.11.0/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="../../static/bootstrap-3.1.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://login.persona.org/include.js"></script>
<script type="text/javascript" src="../../static/browserid/api.js"></script>
<script type="text/javascript" src="../../static/browserid/browserid.js"></script>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29832059-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <script type="text/javascript" src="http://amara.org/embedder-iframe"></script>
  <script type="text/javascript" src="../../static/videos/js/videos.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      // react to changes after page load
      $(window).on('hashchange', function() {
        updateVideoOffset('unisubs');
      });

      updateVideoOffset('unisubs');
    });
  </script>

</body>
</html>
